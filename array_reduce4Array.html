<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Reduce 4</title>
    </head>
    <body>
        <!-- 
            On fait une rÃ©partition des candidats par age :
            jeunes  : 18 - 25 ans
            moyens : 26 - 35 ans
            vieux  : 36 - 55 ans
         -->
        <script>
            var personnes = [
                ["Alain",  30,  14],
                ["Pierre",  32,  11],
                ["Christelle",  21,  13],
                ["Marc",  25,  5],
                ["Jean",  20,  6],
                ["Isabelle",  55,  12],
                ["James",  31,  7],
                ["David",  43,  8],
                ["Claude",  41,  11],
                ["Valerie",  54,  14],
                ["Francoise",  30,  16],
                ["Yohanne",  19,  9 ],
                ["Maria",88,15],
                ["polo",8,6]
            ];


                function bilanNotes(acc,item) {
                    let A = item[1];
                    let cat = ( A>=18 && A<= 25 ) ? "jeunes" : (A>=26 && A<= 35) ? "moyens" : (A>=36 && A<= 55) ? "vieux" : "Non_Categoriee"; 

                        if (!acc["candidats"][cat]) {
                            acc["candidats"][cat] = 0;
                            acc["combien_ont_moyenne"][cat] = 0;
                        }
                        acc["candidats"][cat]++;
                        if (item[2]>=10) {
                            acc["combien_ont_moyenne"][cat]++
                        }                
                    return acc;
                }
            
            let initialisation=[];
            initialisation["candidats"] = [];
            initialisation["combien_ont_moyenne"] = [];

            resultat = personnes.reduce(bilanNotes,initialisation);
            console.log(resultat);
        </script>
    </body>
</html>
